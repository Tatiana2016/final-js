function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},n={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in o)return o[e].exports;if(e in n){var t=n[e];delete n[e];var a={id:e,exports:{}};return o[e]=a,t.call(a.exports,a,a.exports),a.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){n[e]=t},t.parcelRequired7c6=a),a("kyEFX").register(JSON.parse('{"5ZPII":"index.b211465c.js","j3pQ9":"amazonLight.f35bcab3.png","9FCis":"amazonLight@2x.de79fedd.png","2q2FI":"bookShop.b59696b7.png","2zt2y":"bookShop@2x.9104d362.png","bYL6i":"appleBooks.3429e6e0.png","7MCVF":"appleBooks@2x.b5c46b94.png","5UbS1":"index.f25cac3c.css","a8cj2":"shopping-list.c295ca86.js"}')),a("3YmlK"),a("dSLH8"),a("13h1e"),a("d1o4X"),a("eWl5n");var s=a("2shzp");async function l(){try{return await s.default.get("https://books-backend.p.goit.global/books/category-list")}catch(e){throw new Error(Notiflix.Notify.failure("Sorry, no results found"))}}a("XJ68H"),a("4g6ZV"),a("jrqvh"),a("4dz7C");var r=a("XJ68H"),i=a("4dz7C");const d=document.querySelector(".category-list"),c=document.createElement("ul");c.classList.add("menu-category"),c.style.listStyleType="none",d.append(c),async function(){try{const e=await l();if(e&&e.data){const t=e.data,o=t.sort(((e,t)=>e.list_name.localeCompare(t.list_name))).map((e=>`<li><a href="#" data-category="${e.list_name}" class="menu-item-light">${e.list_name}</a></li>`)).join("");c.insertAdjacentHTML("beforeend",o),c.addEventListener("click",(async e=>{e.preventDefault();const t=e.target;if("A"===t.tagName&&t.classList.contains("menu-item-light")){const e=t.getAttribute("data-category"),o=t.innerText,n=await(0,r.getBooksByCategory)(e,o);if(n&&n.data){(0,i.renderBooks)(n.data,o);document.querySelectorAll(".book button").forEach((e=>{e.addEventListener("click",(async e=>{const t=e.currentTarget.getAttribute("data-book-id"),o=await getBookById(t);renderBookDetails(o)}))}))}}}))}}catch(e){console.error(e)}}(),a("5YtG7"),a("1oz2j"),a("3WnVy"),a("doWUH"),a("bn5qW");var u;u=new URL(a("kyEFX").resolve("bYL6i"),import.meta.url).toString();var p;p=new URL(a("kyEFX").resolve("7MCVF"),import.meta.url).toString();var m;m=new URL(a("kyEFX").resolve("j3pQ9"),import.meta.url).toString();var g;g=new URL(a("kyEFX").resolve("9FCis"),import.meta.url).toString();var y;y=new URL(a("kyEFX").resolve("2q2FI"),import.meta.url).toString();var h;h=new URL(a("kyEFX").resolve("2zt2y"),import.meta.url).toString();const f=document.querySelector(".js-backdrop-modal"),k=document.querySelector(".books-container"),b=document.querySelector("#modals"),S=document.querySelector(".about-book-modal"),v=document.querySelector("#modal-close"),_=document.querySelector(".add-storage-button"),E=document.querySelector(".remove-modal-btn"),L=document.querySelector(".storage-description");let w=[],H={};function F(){S.classList.add("is-hidden"),f.classList.add("is-hidden")}function A(){const e=JSON.parse(localStorage.getItem("storage-data-shop")),t=H.id;if(!e||0===e.length)return _.style.display="block",void(E.style.display="none");e.find((e=>e.id===t))?(_.style.display="none",E.style.display="block"):(_.style.display="block",E.style.display="none")}v.addEventListener("click",F),document.addEventListener("keydown",(function(e){"Escape"===e.key&&F()})),f.addEventListener("click",(function(e){e.target===f&&F()})),k.addEventListener("click",(function(t){if(t.preventDefault(),"IMG"!==t.target.nodeName&&"H3"!==t.target.nodeName&&"P"!==t.target.nodeName)return;S.classList.remove("is-hidden"),f.classList.remove("is-hidden"),async function(t){b.innerHTML="";try{const o=await async function(e){try{H={};const t=await fetch(`https://books-backend.p.goit.global/books/${e}`),o=await t.json();return H={book_image:o.book_image,title:o.title,author:o.author,description:o.description,shopAmazon:o.buy_links[0].url,shopAppleBooks:o.buy_links[1].url,shopBookshop:o.buy_links[4].url,list_name:o.list_name,id:o._id},o}catch(e){throw console.error("Error",e),e}}(t);A(),function(t){const o=t.book_image,n=t.title,a=t.author,s=t.description,l=t.buy_links[0].url,r=t.buy_links[1].url,i=t.buy_links[4].url,d=`\n  <div class = "modal-card-wr">\n  <img src="${o}" alt="Book Image" class="image-modal">\n  \n  <div class="info-modal">\n  <div class = "cont-title">\n  <h2 class="title-book-modal">${n}</h2></div>\n  <p class="author-book-modal"> ${a}</p>\n  <p class="txt-book-modal">${s||""}\n  \n\n  <ul class = "modal-shopping-list">\n\n  <li class="modal-shopping-list-amazon">\n  <a href="${l}" target="_blank"> \n  <img width="62" height="19" class="modal-icon-amazon"\n        src ="${e(m)},${e(g)}" alt = "Amazon"/>\n  </a>\n  </li> \n\n  <li class="modal-shopping-list-apple">\n  <a href="${r}" target="_blank">\n  <img width="38" height="38"\n        src ="${e(u)},${e(p)} " alt = "Apple"/>\n  </a>\n  </li>\n\n  <li class="modal-shopping-list-book">\n  <a href="${i}" target="_blank"> \n  <img width="38" height="38"\n        src ="${e(y)},${e(h)}" alt = "Book"/>\n  </a>\n  </li>\n\n</ul>\n</div>\n</div>\n  `;b.innerHTML=d}(o)}catch(e){throw console.error("Error",e),e}}(t.target.closest("li").id)})),_.addEventListener("click",(function(){const e=JSON.parse(localStorage.getItem("storage-data-shop")),t=H;e&&0!==e.length?(e.push(t),localStorage.setItem("storage-data-shop",JSON.stringify(e))):(w.push(t),localStorage.setItem("storage-data-shop",JSON.stringify(w)));L.textContent="Сongratulations! You have added the book to the shopping list. To delete, press the button “Remove from the shopping list”.",A()})),E.addEventListener("click",(function(){L.textContent="";const e=H.id,t=JSON.parse(localStorage.getItem("storage-data-shop")),o=t.findIndex((t=>t.id===e));t.splice(o,1),localStorage.setItem("storage-data-shop",JSON.stringify(t)),A()}));const R=document.getElementById("back-to-top-button");window.addEventListener("scroll",(()=>{document.body.scrollTop>250||document.documentElement.scrollTop>250?R.style.display="block":R.style.display="none"})),R.addEventListener("click",(()=>{document.body.scrollTop=0,document.documentElement.scrollTop=0}));
//# sourceMappingURL=index.b211465c.js.map
