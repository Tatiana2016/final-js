function t(t){return t&&t.__esModule?t.default:t}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},n={},a=e.parcelRequired7c6;null==a&&((a=function(t){if(t in o)return o[t].exports;if(t in n){var e=n[t];delete n[t];var a={id:t,exports:{}};return o[t]=a,e.call(a.exports,a,a.exports),a.exports}var s=new Error("Cannot find module '"+t+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(t,e){n[t]=e},e.parcelRequired7c6=a),a("kyEFX").register(JSON.parse('{"5ZPII":"index.81c76306.js","j3pQ9":"amazonLight.f35bcab3.png","9FCis":"amazonLight@2x.de79fedd.png","2q2FI":"bookShop.b59696b7.png","2zt2y":"bookShop@2x.9104d362.png","bYL6i":"appleBooks.3429e6e0.png","7MCVF":"appleBooks@2x.b5c46b94.png","5UbS1":"index.327e2042.css","a8cj2":"shopping-list.d463f40a.js"}')),a("3YmlK"),a("dSLH8"),a("13h1e"),a("d1o4X"),a("eWl5n");var s=a("2shzp");async function l(){try{return await s.default.get("https://books-backend.p.goit.global/books/category-list")}catch(t){throw new Error(Notiflix.Notify.failure("Sorry, no results found"))}}a("XJ68H"),a("4g6ZV"),a("jrqvh"),a("4dz7C");var i=a("XJ68H"),r=a("4dz7C");const c=document.querySelector(".category-list"),d=document.createElement("ul");d.classList.add("menu-category"),d.style.listStyleType="none",c.prepend(d),async function(){try{const t=await l();if(t&&t.data){const e=t.data,o=e.sort(((t,e)=>t.list_name.localeCompare(e.list_name))).map((t=>`<li><a href="#" data-category="${t.list_name}" class="menu-item-light">${t.list_name}</a></li>`)).join("");d.innerHTML=o,d.addEventListener("click",(async t=>{t.preventDefault();const e=t.target;if("A"===e.tagName&&e.classList.contains("menu-item-light")){const t=e.getAttribute("data-category"),o=e.innerText,n=await(0,i.getBooksByCategory)(t,o);if(n&&n.data){(0,r.renderBooks)(n.data,o);document.querySelectorAll(".book button").forEach((t=>{t.addEventListener("click",(async t=>{const e=t.currentTarget.getAttribute("data-book-id"),o=await getBookById(e);renderBookDetails(o)}))}))}}}))}}catch(t){console.error(t)}}(),a("5YtG7"),a("1oz2j"),a("3WnVy"),a("doWUH"),a("bn5qW");var u;u=new URL(a("kyEFX").resolve("bYL6i"),import.meta.url).toString();var p;p=new URL(a("kyEFX").resolve("7MCVF"),import.meta.url).toString();var m;m=new URL(a("kyEFX").resolve("j3pQ9"),import.meta.url).toString();var g;g=new URL(a("kyEFX").resolve("9FCis"),import.meta.url).toString();var y;y=new URL(a("kyEFX").resolve("2q2FI"),import.meta.url).toString();var h;h=new URL(a("kyEFX").resolve("2zt2y"),import.meta.url).toString();const f=document.querySelector(".js-backdrop-modal"),k=document.querySelector(".books-container"),b=document.querySelector("#modals"),S=document.querySelector(".about-book-modal"),v=document.querySelector("#modal-close"),_=document.querySelector(".add-storage-button"),E=document.querySelector(".storage-delete-button"),L=document.querySelector(".storage-description");let w=[],H={};function F(){S.classList.add("is-hidden"),f.classList.add("is-hidden")}function x(){const t=JSON.parse(localStorage.getItem("storage-data-shop")),e=H.id;if(!t||0===t.length)return _.style.display="block",void(E.style.display="none");t.find((t=>t.id===e))?(_.style.display="none",E.style.display="block"):(_.style.display="block",E.style.display="none")}v.addEventListener("click",F),document.addEventListener("keydown",(function(t){"Escape"===t.key&&F()})),f.addEventListener("click",(function(t){t.target===f&&F()})),k.addEventListener("click",(function(e){if(e.preventDefault(),"IMG"!==e.target.nodeName)return;S.classList.remove("is-hidden"),f.classList.remove("is-hidden"),async function(e){b.innerHTML="";try{const o=await async function(t){try{H={};const e=await fetch(`https://books-backend.p.goit.global/books/${t}`),o=await e.json();return H={book_image:o.book_image,title:o.title,author:o.author,description:o.description,shopAmazon:o.buy_links[0].url,shopAppleBooks:o.buy_links[1].url,shopBookshop:o.buy_links[4].url,list_name:o.list_name,id:o._id},o}catch(t){throw console.error("Error",t),t}}(e);x(),function(e){const o=e.book_image,n=e.title,a=e.author,s=e.description,l=e.buy_links[0].url,i=e.buy_links[1].url,r=e.buy_links[4].url,c=`\n  <div class = "modal-card-wr">\n  <img src="${o}" alt="Book Image" class="image-modal">\n  \n  <div class="info-modal">\n  <div class = "cont-title">\n  <h2 class="title-book-modal">${n}</h2></div>\n  <p class="author-book-modal"> ${a}</p>\n  <p class="txt-book-modal">${s||""}\n  \n\n  <ul class = "modal-shopping-list">\n  <li class="modal-shopping-list-amazon">\n  <a href="${l}" target="_blank"> \n  <img width="62" height="19" class="modal-icon-amazon"\n        srcset = "${t(m)} 1x,\n                  ${t(g)} 2x" alt = "Amazon"/>\n  </a>\n  </li> \n\n  <li class="modal-shopping-list-apple">\n  <a href="${i}" target="_blank">\n  <img width="38" height="38"\n        srcset ="${t(u)} 1x,\n                ${t(p)} 2x" alt = "Apple"/>\n  </a>\n  </li>\n\n  <li class="modal-shopping-list-book">\n  <a href="${r}" target="_blank"> \n  <img width="38" height="38"\n        srcset ="${t(y)} 1x,\n                ${t(h)} 2x" alt = "Book"/>\n  </a>\n  </li>\n\n</ul>\n\n</div>\n</div>\n  `;b.innerHTML=c}(o)}catch(t){throw console.error("Error",t),t}}(e.target.closest("li").id)})),_.addEventListener("click",(function(){const t=JSON.parse(localStorage.getItem("storage-data-shop")),e=H;t&&0!==t.length?(t.push(e),localStorage.setItem("storage-data-shop",JSON.stringify(t))):(w.push(e),localStorage.setItem("storage-data-shop",JSON.stringify(w)));L.textContent='Ð¡ongratulations! You have added the book to the shopping list. To delete, press the button "Remove from the shopping list".',x()})),E.addEventListener("click",(function(){L.textContent="";const t=H.id,e=JSON.parse(localStorage.getItem("storage-data-shop")),o=e.findIndex((e=>e.id===t));e.splice(o,1),localStorage.setItem("storage-data-shop",JSON.stringify(e)),x()}));const R=document.getElementById("back-to-top-button");window.addEventListener("scroll",(()=>{document.body.scrollTop>250||document.documentElement.scrollTop>250?R.style.display="block":R.style.display="none"})),R.addEventListener("click",(()=>{document.body.scrollTop=0,document.documentElement.scrollTop=0}));
//# sourceMappingURL=index.81c76306.js.map
