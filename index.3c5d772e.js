function e(e,t,o,n){Object.defineProperty(e,t,{get:o,set:n,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},r=o.parcelRequired7c6;null==r&&((r=function(e){if(e in n)return n[e].exports;if(e in a){var t=a[e];delete a[e];var o={id:e,exports:{}};return n[e]=o,t.call(o.exports,o,o.exports),o.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){a[e]=t},o.parcelRequired7c6=r),r.register("kyEFX",(function(t,o){var n,a;e(t.exports,"register",(function(){return n}),(function(e){return n=e})),e(t.exports,"resolve",(function(){return a}),(function(e){return a=e}));var r={};n=function(e){for(var t=Object.keys(e),o=0;o<t.length;o++)r[t[o]]=e[t[o]]},a=function(e){var t=r[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),r("kyEFX").register(JSON.parse('{"5ZPII":"index.3c5d772e.js","j3pQ9":"amazonLight.f35bcab3.png","9FCis":"amazonLight@2x.de79fedd.png","2q2FI":"bookShop.b59696b7.png","2zt2y":"bookShop@2x.9104d362.png","bYL6i":"appleBooks.3429e6e0.png","7MCVF":"appleBooks@2x.b5c46b94.png","5UbS1":"index.f4276120.css","4l2W5":"index.ab247df3.js"}')),r("3YmlK"),r("dSLH8"),r("13h1e"),r("d1o4X"),r("eWl5n");var i=r("2shzp");async function s(){try{return await i.default.get("https://books-backend.p.goit.global/books/category-list")}catch(e){throw new Error(Notiflix.Notify.failure("Sorry, no results found"))}}r("XJ68H"),r("4g6ZV"),r("jrqvh"),r("4dz7C");var l=r("XJ68H"),c=r("4dz7C");const d=document.querySelector(".category-list"),u=document.createElement("ul");u.classList.add("menu-category"),u.style.listStyleType="none",d.append(u),async function(){try{const e=await s();if(e&&e.data){const t=e.data,o=t.sort(((e,t)=>e.list_name.localeCompare(t.list_name))).map((e=>`<li><a href="#" data-category="${e.list_name}" class="menu-item-light">${e.list_name}</a></li>`)).join("");u.insertAdjacentHTML("beforeend",o),u.addEventListener("click",(async e=>{e.preventDefault();const t=e.target;if("A"===t.tagName&&t.classList.contains("menu-item-light")){const e=t.getAttribute("data-category"),o=t.innerText,n=await(0,l.getBooksByCategory)(e,o);if(n&&n.data){(0,c.renderBooks)(n.data,o);document.querySelectorAll(".book button").forEach((e=>{e.addEventListener("click",(async e=>{const t=e.currentTarget.getAttribute("data-book-id"),o=await getBookById(t);renderBookDetails(o)}))}))}}}))}}catch(e){console.error(e)}}(),r("5YtG7"),r("1oz2j"),r("3WnVy"),r("doWUH"),r("bn5qW");var p;p=new URL(r("kyEFX").resolve("bYL6i"),import.meta.url).toString();var g;g=new URL(r("kyEFX").resolve("7MCVF"),import.meta.url).toString();var m;m=new URL(r("kyEFX").resolve("j3pQ9"),import.meta.url).toString();var y;y=new URL(r("kyEFX").resolve("9FCis"),import.meta.url).toString();var f;f=new URL(r("kyEFX").resolve("2q2FI"),import.meta.url).toString();var h;h=new URL(r("kyEFX").resolve("2zt2y"),import.meta.url).toString();const b=document.querySelector(".about-book-modal"),k=document.querySelector("#modal-close"),v=document.querySelector(".js-backdrop-modal");function S(){b.classList.add("is-hidden"),v.classList.add("is-hidden")}k.addEventListener("click",S),document.addEventListener("keydown",(function(e){"Escape"===e.key&&S()})),v.addEventListener("click",(function(e){e.target===v&&S()}));const _=document.querySelector(".books-container"),E=document.querySelector("#modals"),w=document.querySelector(".add-storage-button"),L=document.querySelector(".remove-modal-btn"),H=document.querySelector(".storage-description");let F=[],x={};function A(){const e=JSON.parse(localStorage.getItem("storage-data-shop")),t=x.id;if(!e||0===e.length)return w.style.display="block",void(L.style.display="none");e.find((e=>e.id===t))?(w.style.display="none",L.style.display="block"):(w.style.display="block",L.style.display="none")}_.addEventListener("click",(function(e){if(e.preventDefault(),"IMG"!==e.target.nodeName&&"H3"!==e.target.nodeName&&"P"!==e.target.nodeName)return;b.classList.remove("is-hidden"),v.classList.remove("is-hidden"),async function(e){try{const o=await async function(e){try{x={};const t=await fetch(`https://books-backend.p.goit.global/books/${e}`),o=await t.json();return x={book_image:o.book_image,title:o.title,author:o.author,description:o.description,shopAmazon:o.buy_links[0].url,shopAppleBooks:o.buy_links[1].url,shopBookshop:o.buy_links[4].url,list_name:o.list_name,id:o._id},o}catch(e){throw console.error("Error",e),e}}(e);A(),function(e){E.innerHTML="";const o=e.book_image,n=e.title,a=e.author,r=e.description,i=e.buy_links[0].url,s=e.buy_links[1].url,l=e.buy_links[4].url,c=`\n  <div class = "modal-card-wr">\n  <img src="${o}" alt="Book Image" class="image-modal">\n  \n  <div class="info-modal">\n  <div class = "cont-title">\n  <h2 class="title-book-modal">${n}</h2></div>\n  <p class="author-book-modal"> ${a}</p>\n  <p class="txt-book-modal">${r||""}\n  \n\n  <ul class = "modal-shopping-list">\n\n  <li class="modal-shopping-list-amazon">\n  <a href="${i}" target="_blank"> \n  <img width="62" height="19"\n        src ="${t(m)},${t(y)}" alt = "Amazon"/>\n  </a>\n  </li> \n\n  <li class="modal-shopping-list-apple">\n  <a href="${s}" target="_blank">\n  <img width="38" height="38"\n        src ="${t(p)},${t(g)} " alt = "Apple"/>\n  </a>\n  </li>\n\n  <li class="modal-shopping-list-book">\n  <a href="${l}" target="_blank"> \n  <img width="38" height="38"\n        src ="${t(f)},${t(h)}" alt = "Book"/>\n  </a>\n  </li>\n\n</ul>\n</div>\n</div>\n  `;E.innerHTML=c}(o)}catch(e){throw console.error("Error",e),e}}(e.target.closest("li").id)})),w.addEventListener("click",(function(){const e=JSON.parse(localStorage.getItem("storage-data-shop")),t=x;e&&0!==e.length?(e.push(t),localStorage.setItem("storage-data-shop",JSON.stringify(e))):(F.push(t),localStorage.setItem("storage-data-shop",JSON.stringify(F)));H.textContent="Сongratulations! You have added the book to the shopping list. To delete, press the button “Remove from the shopping list”.",A()})),L.addEventListener("click",(function(){H.textContent="";const e=x.id,t=JSON.parse(localStorage.getItem("storage-data-shop")),o=t.findIndex((t=>t.id===e));t.splice(o,1),localStorage.setItem("storage-data-shop",JSON.stringify(t)),A()}));const R=document.getElementById("back-to-top-button");window.addEventListener("scroll",(()=>{document.body.scrollTop>250||document.documentElement.scrollTop>250?R.style.display="block":R.style.display="none"})),R.addEventListener("click",(()=>{document.body.scrollTop=0,document.documentElement.scrollTop=0}));
//# sourceMappingURL=index.3c5d772e.js.map
