!function(){function e(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},o={},a=n.parcelRequired7c6;null==a&&((a=function(e){if(e in r)return r[e].exports;if(e in o){var t=o[e];delete o[e];var n={id:e,exports:{}};return r[e]=n,t.call(n.exports,n,n.exports),n.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){o[e]=t},n.parcelRequired7c6=a),a.register("iE7OH",(function(t,n){var r,o;e(t.exports,"register",(function(){return r}),(function(e){return r=e})),e(t.exports,"resolve",(function(){return o}),(function(e){return o=e}));var a={};r=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)a[t[n]]=e[t[n]]},o=function(e){var t=a[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),a.register("aNJCr",(function(t,n){var r;e(t.exports,"getBundleURL",(function(){return r}),(function(e){return r=e}));var o={};function a(e){return(""+e).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}r=function(e){var t=o[e];return t||(t=function(){try{throw new Error}catch(t){var e=(""+t.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\/\/[^)\n]+/g);if(e)return a(e[2])}return"/"}(),o[e]=t),t}})),a("iE7OH").register(JSON.parse('{"EVgbq":"index.171742d4.js","lXybR":"amazonLight.f35bcab3.png","kClo5":"amazonLight@2x.de79fedd.png","3V2gF":"bookShop.b59696b7.png","8MGMh":"bookShop@2x.9104d362.png","4MkMx":"appleBooks.3429e6e0.png","9vIiG":"appleBooks@2x.b5c46b94.png","5UbS1":"index.f4276120.css","cfiU8":"index.f739b81f.js"}')),a("5FcjD"),a("gb9S7"),a("1sNnH"),a("779dT"),a("3JHuO");var c=a("bpxeT"),i=a("2TvXO"),s=a("dIxxU");function l(){return u.apply(this,arguments)}function u(){return(u=t(c)(t(i).mark((function e(){var n;return t(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://books-backend.p.goit.global/","books/category-list",e.prev=2,e.next=5,s.default.get("".concat("https://books-backend.p.goit.global/").concat("books/category-list"));case 5:return n=e.sent,e.abrupt("return",n);case 9:throw e.prev=9,e.t0=e.catch(2),new Error(Notiflix.Notify.failure("Sorry, no results found"));case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}a("1NCeJ"),a("g4dHS"),a("8Jzjf"),a("3AY1T");c=a("bpxeT"),i=a("2TvXO");var d=a("1NCeJ"),p=a("3AY1T"),f=document.querySelector(".category-list"),g=document.createElement("ul");function h(){return h=t(c)(t(i).mark((function e(){var n,r,o,a;return t(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l();case 3:(n=e.sent)&&n.data&&(r=n.data,o=r.sort((function(e,t){return e.list_name.localeCompare(t.list_name)})),a=o.map((function(e){return'<li><a href="#" data-category="'.concat(e.list_name,'" class="menu-item-light">').concat(e.list_name,"</a></li>")})).join(""),g.insertAdjacentHTML("beforeend",a),g.addEventListener("click",function(){var e=t(c)(t(i).mark((function e(n){var r,o,a,s;return t(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),"A"!==(r=n.target).tagName||!r.classList.contains("menu-item-light")){e.next=9;break}return o=r.getAttribute("data-category"),a=r.innerText,e.next=7,(0,d.getBooksByCategory)(o,a);case 7:(s=e.sent)&&s.data&&((0,p.renderBooks)(s.data,a),document.querySelectorAll(".book button").forEach((function(e){var n;e.addEventListener("click",(n=t(c)(t(i).mark((function e(n){var r,o;return t(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.currentTarget.getAttribute("data-book-id"),e.next=3,getBookById(r);case 3:o=e.sent,renderBookDetails(o);case 5:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)}))})));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),h.apply(this,arguments)}g.classList.add("menu-category"),g.style.listStyleType="none",f.append(g),function(){h.apply(this,arguments)}(),a("4VyHa"),a("d9RdC"),a("DBCfV"),a("1p89w"),a("8spJF");var m;c=a("bpxeT"),i=a("2TvXO");m=a("aNJCr").getBundleURL("EVgbq")+a("iE7OH").resolve("4MkMx");var v;v=a("aNJCr").getBundleURL("EVgbq")+a("iE7OH").resolve("9vIiG");var b;b=a("aNJCr").getBundleURL("EVgbq")+a("iE7OH").resolve("lXybR");var y;y=a("aNJCr").getBundleURL("EVgbq")+a("iE7OH").resolve("kClo5");var k;k=a("aNJCr").getBundleURL("EVgbq")+a("iE7OH").resolve("3V2gF");var E;E=a("aNJCr").getBundleURL("EVgbq")+a("iE7OH").resolve("8MGMh");var x=document.querySelector(".about-book-modal"),_=document.querySelector("#modal-close"),S=document.querySelector(".js-backdrop-modal");function w(){x.classList.add("is-hidden"),S.classList.add("is-hidden")}_.addEventListener("click",w),document.addEventListener("keydown",(function(e){"Escape"===e.key&&w()})),S.addEventListener("click",(function(e){e.target===S&&w()}));var H=document.querySelector(".books-container"),L=document.querySelector("#modals"),N=document.querySelector(".add-storage-button"),O=document.querySelector(".remove-modal-btn"),T=document.querySelector(".storage-description"),B="storage-data-shop",R=[],A={};function J(){return(J=t(c)(t(i).mark((function e(n){var r;return t(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q(n);case 3:return r=e.sent,M(),F(r),e.abrupt("return",r);case 9:throw e.prev=9,e.t0=e.catch(0),console.error("Error",e.t0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function q(e){return C.apply(this,arguments)}function C(){return(C=t(c)(t(i).mark((function e(n){var r,o;return t(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,A={},e.next=4,fetch("https://books-backend.p.goit.global/books/".concat(n));case 4:return r=e.sent,e.next=7,r.json();case 7:return o=e.sent,A={book_image:o.book_image,title:o.title,author:o.author,description:o.description,shopAmazon:o.buy_links[0].url,shopAppleBooks:o.buy_links[1].url,shopBookshop:o.buy_links[4].url,list_name:o.list_name,id:o._id},e.abrupt("return",o);case 12:throw e.prev=12,e.t0=e.catch(0),console.error("Error",e.t0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function M(){var e=JSON.parse(localStorage.getItem(B)),t=A.id;if(!e||0===e.length)return N.style.display="block",void(O.style.display="none");e.find((function(e){return e.id===t}))?(N.style.display="none",O.style.display="block"):(N.style.display="block",O.style.display="none")}function F(e){L.innerHTML="";var n=e.book_image,r=e.title,o=e.author,a=e.description,c=e.buy_links[0].url,i=e.buy_links[1].url,s=e.buy_links[4].url,l='\n  <div class = "modal-card-wr">\n  <img src="'.concat(n,'" alt="Book Image" class="image-modal">\n  \n  <div class="info-modal">\n  <div class = "cont-title">\n  <h2 class="title-book-modal">').concat(r,'</h2></div>\n  <p class="author-book-modal"> ').concat(o,'</p>\n  <p class="txt-book-modal">').concat(a||"",'\n  \n\n  <ul class = "modal-shopping-list">\n\n  <li class="modal-shopping-list-amazon">\n  <a href="').concat(c,'" target="_blank"> \n  <img width="62" height="19"\n        src ="').concat(t(b),",").concat(t(y),'" alt = "Amazon"/>\n  </a>\n  </li> \n\n  <li class="modal-shopping-list-apple">\n  <a href="').concat(i,'" target="_blank">\n  <img width="38" height="38"\n        src ="').concat(t(m),",").concat(t(v),' " alt = "Apple"/>\n  </a>\n  </li>\n\n  <li class="modal-shopping-list-book">\n  <a href="').concat(s,'" target="_blank"> \n  <img width="38" height="38"\n        src ="').concat(t(k),",").concat(t(E),'" alt = "Book"/>\n  </a>\n  </li>\n\n</ul>\n</div>\n</div>\n  ');L.innerHTML=l}H.addEventListener("click",(function(e){if(e.preventDefault(),"IMG"!==e.target.nodeName&&"H3"!==e.target.nodeName&&"P"!==e.target.nodeName)return;x.classList.remove("is-hidden"),S.classList.remove("is-hidden"),function(e){J.apply(this,arguments)}(e.target.closest("li").id)})),N.addEventListener("click",(function(){var e=JSON.parse(localStorage.getItem(B)),t=A;e&&0!==e.length?(e.push(t),localStorage.setItem(B,JSON.stringify(e))):(R.push(t),localStorage.setItem(B,JSON.stringify(R)));T.textContent="Сongratulations! You have added the book to the shopping list. To delete, press the button “Remove from the shopping list”.",M()})),O.addEventListener("click",(function(){T.textContent="";var e=A.id,t=JSON.parse(localStorage.getItem(B)),n=t.findIndex((function(t){return t.id===e}));t.splice(n,1),localStorage.setItem(B,JSON.stringify(t)),M()}));a("8MBJY"),a("a2hTj");var I=document.getElementById("back-to-top-button");window.addEventListener("scroll",(function(){document.body.scrollTop>250||document.documentElement.scrollTop>250?I.style.display="block":I.style.display="none"})),I.addEventListener("click",(function(){document.body.scrollTop=0,document.documentElement.scrollTop=0}))}();
//# sourceMappingURL=index.171742d4.js.map
