{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/runtime-ee45fbabf7a466ff.js","src/index.js","src/js/sections/getBooksCategories.js","src/js/sections/renderCategories.js","node_modules/@parcel/runtime-js/lib/runtime-bea743d17fcc7b30.js","node_modules/@parcel/runtime-js/lib/runtime-2ffc8bbf2686bab0.js","node_modules/@parcel/runtime-js/lib/runtime-8b5c65adf6127fa5.js","node_modules/@parcel/runtime-js/lib/runtime-34ea080b6a4ae657.js","node_modules/@parcel/runtime-js/lib/runtime-db8a33b058e12ea1.js","node_modules/@parcel/runtime-js/lib/runtime-a2cbff993f3e19f6.js","src/js/modal.js","src/js/components/scroll-up.js"],"sourcesContent":["require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"5ZPII\\\":\\\"index.151d4e3f.js\\\",\\\"j3pQ9\\\":\\\"amazonLight.f35bcab3.png\\\",\\\"9FCis\\\":\\\"amazonLight@2x.de79fedd.png\\\",\\\"2q2FI\\\":\\\"bookShop.b59696b7.png\\\",\\\"2zt2y\\\":\\\"bookShop@2x.9104d362.png\\\",\\\"bYL6i\\\":\\\"appleBooks.3429e6e0.png\\\",\\\"7MCVF\\\":\\\"appleBooks@2x.b5c46b94.png\\\",\\\"5UbS1\\\":\\\"index.b9c1fc8a.css\\\",\\\"a8cj2\\\":\\\"shopping-list.72da777e.js\\\"}\"));","import './js/sections/header';\nimport './js/sections/menu';\nimport './js/sections/home';\nimport './js/sections/books';\nimport './js/components/switch';\nimport './js/sections/getBooksCategories';\nimport './js/sections/getBooksByCategory';\nimport './js/sections/support-section';\nimport './js/sections/createMarkupSupport';\nimport './js/sections/renderBooks';\nimport './js/sections/renderCategories';\nimport './js/sections/getBooks';\nimport './js/sections/getAllBooksByCategory';\nimport './js/sections/createBooksMarkup';\nimport './js/sections/createAllBooksMarkup';\nimport './js/sections/createAllBooksByCategoryMarkup';\nimport './js/sections/category';\nimport './js/sections/shopping-list';\nimport './js/modal';\nimport './js/sections/fetchApi';\nimport './js/components/scroll-up';\n","import axios from 'axios';\n\n//Get All Categories\nasync function getBooksCategory() {\n  const BASE_URL = 'https://books-backend.p.goit.global/';\n  const ENDPOINT = 'books/category-list';\n\n  try {\n    const result = await axios.get(`${BASE_URL}${ENDPOINT}`);\n    return result;\n  } catch (error) {\n    throw new Error(Notiflix.Notify.failure('Sorry, no results found'));\n  }\n}\n\nexport { getBooksCategory };\n","import { getBooksCategory } from './getBooksCategories';\nimport { getBooksByCategory } from './getBooksByCategory';\nimport { renderBooks } from './renderBooks';\n\nconst container = document.querySelector('.category-list');\nconst list = document.createElement('ul');\n\nlist.classList.add('menu-category');\nlist.style.listStyleType = 'none';\ncontainer.prepend(list);\n\nrenderCategories();\n\nasync function renderCategories() {\n  try {\n    const response = await getBooksCategory();\n\n    if (response && response.data) {\n      const categories = response.data;\n      const sortedCategories = categories.sort((a, b) => a.list_name.localeCompare(b.list_name));\n      const itemsHtml = sortedCategories.map(category => `<li><a href=\"#\" data-category=\"${category.list_name}\" class=\"menu-item-light\">${category.list_name}</a></li>`).join('');\n\n      list.innerHTML = itemsHtml;\n\n      list.addEventListener('click', async (event) => {\n        event.preventDefault();\n        const target = event.target;\n\n        if (target.tagName === 'A' && target.classList.contains('menu-item-light')) {\n          const selectedCategory = target.getAttribute('data-category');\n          const currentCategoryTitle = target.innerText;\n          const booksResponse = await getBooksByCategory(selectedCategory, currentCategoryTitle);\n\n          if (booksResponse && booksResponse.data) {\n            renderBooks(booksResponse.data, currentCategoryTitle);\n\n            const bookButtons = document.querySelectorAll('.book button');\n            bookButtons.forEach(button => {\n              button.addEventListener('click', async (event) => {\n                const bookId = event.currentTarget.getAttribute('data-book-id');\n                const bookDetails = await getBookById(bookId);\n                renderBookDetails(bookDetails);\n              });\n            });\n          }\n        }\n      });\n    }\n  } catch (error) {\n    console.error(error);\n  }\n}\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"bYL6i\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"7MCVF\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"j3pQ9\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"9FCis\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"2q2FI\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"2zt2y\")).toString();","import apple1x from '../images/modal_img/icons-for-light-theme/appleBooks.png';\nimport apple2x from '../images/modal_img/icons-for-light-theme/appleBooks@2x.png';\nimport amazon1x from '../images/modal_img/icons-for-light-theme/amazonLight.png';\nimport amazon2x from '../images/modal_img/icons-for-light-theme/amazonLight@2x.png';\nimport book1x from '../images/modal_img/icons-for-light-theme/bookShop.png';\nimport book2x from '../images/modal_img/icons-for-light-theme/bookShop@2x.png';\n\n\nconst modalBackdrop = document.querySelector('.js-backdrop-modal');\nconst bookList = document.querySelector('.books-container');\nconst modals = document.querySelector('#modals');\nconst idModal = document.querySelector('.about-book-modal');\nconst closeModalBtn = document.querySelector('#modal-close');\nconst storageButton = document.querySelector('.add-storage-button');\nconst removeStorageBtn = document.querySelector('.storage-delete-button');\nconst storageDescription = document.querySelector('.storage-description');\nconst STORAGE_KEY = 'storage-data-shop';\nlet storageArr = [];\nlet storageObj = {};\n\nfunction openModalId() {\n  idModal.classList.remove('is-hidden');\n  modalBackdrop.classList.remove('is-hidden');\n}\n\nfunction closeModalId() {\n  idModal.classList.add('is-hidden');\n  modalBackdrop.classList.add('is-hidden');\n}\n\ncloseModalBtn.addEventListener('click', closeModalId);\n\ndocument.addEventListener('keydown', function (event) {\n  if (event.key === 'Escape') {\n    closeModalId();\n  }\n});\n\nmodalBackdrop.addEventListener('click', function (event) {\n  if (event.target === modalBackdrop) {\n    closeModalId();\n  }\n});\n\n\nbookList.addEventListener('click', onClick);\nstorageButton.addEventListener('click', onStorageAdd);\nremoveStorageBtn.addEventListener('click', onStorageDelete);\n\nfunction onClick(e) {\n  e.preventDefault();\n  if (e.target.nodeName !== 'IMG') {\n    return;\n  }\n  openModalId();\n  addModal(e.target.closest('li').id);\n}\n\nasync function addModal(bookId) {\n  modals.innerHTML = '';\n  try {\n    const data = await fetchBookById(bookId);\n    storageCheck();\n    addMarkup(data);\n    return data;\n  } catch (error) {\n    console.error('Error', error);\n    throw error;\n  }\n}\n\nasync function fetchBookById(bookId) {\n  try {\n    storageObj = {};\n    const response = await fetch(\n      `https://books-backend.p.goit.global/books/${bookId}`\n    );\n    const data = await response.json();\n    storageObj = {\n      book_image: data.book_image,\n      title: data.title,\n      author: data.author,\n      description: data.description,\n      shopAmazon: data.buy_links[0].url,\n      shopAppleBooks: data.buy_links[1].url,\n      shopBookshop: data.buy_links[4].url,\n      list_name: data.list_name,\n      id: data._id,\n    };\n    return data;\n  } catch (error) {\n    console.error('Error', error);\n    throw error;\n  }\n}\nfunction storageCheck() {\n  const storageArr = JSON.parse(localStorage.getItem(STORAGE_KEY));\n  const idToFind = storageObj.id;\n\n  if (!storageArr || storageArr.length === 0) {\n    storageButton.style.display = 'block';\n    removeStorageBtn.style.display = 'none';\n    return;\n  } else {\n    const objToFind = storageArr.find(obj => obj.id === idToFind);\n    if (!objToFind) {\n      storageButton.style.display = 'block';\n      removeStorageBtn.style.display = 'none';\n    } else {\n      storageButton.style.display = 'none';\n      removeStorageBtn.style.display = 'block';\n    }\n  }\n}\n\nfunction addMarkup(data) {\n  \n  const bookImage = data.book_image;\n  const title = data.title;\n  const author = data.author;\n  const description = data.description;\n  const shopAmazon = data.buy_links[0].url;\n  const shopAppleBooks = data.buy_links[1].url;\n  const shopBookshop = data.buy_links[4].url;\n\n  const html = `\n  <div class = \"modal-card-wr\">\n  <img src=\"${bookImage}\" alt=\"Book Image\" class=\"image-modal\">\n  \n  <div class=\"info-modal\">\n  <div class = \"cont-title\">\n  <h2 class=\"title-book-modal\">${title}</h2></div>\n  <p class=\"author-book-modal\"> ${author}</p>\n  <p class=\"txt-book-modal\">${description || ''}\n  \n\n  <ul class = \"modal-shopping-list\">\n  <li class=\"modal-shopping-list-amazon\">\n  <a href=\"${shopAmazon}\" target=\"_blank\"> \n  <img width=\"62\" height=\"19\" class=\"modal-icon-amazon\"\n        srcset = \"${amazon1x} 1x,\n                  ${amazon2x} 2x\" alt = \"Amazon\"/>\n  </a>\n  </li> \n\n  <li class=\"modal-shopping-list-apple\">\n  <a href=\"${shopAppleBooks}\" target=\"_blank\">\n  <img width=\"38\" height=\"38\"\n        srcset =\"${apple1x} 1x,\n                ${apple2x} 2x\" alt = \"Apple\"/>\n  </a>\n  </li>\n\n  <li class=\"modal-shopping-list-book\">\n  <a href=\"${shopBookshop}\" target=\"_blank\"> \n  <img width=\"38\" height=\"38\"\n        srcset =\"${book1x} 1x,\n                ${book2x} 2x\" alt = \"Book\"/>\n  </a>\n  </li>\n\n</ul>\n\n</div>\n</div>\n  `;\n  modals.innerHTML = html;\n}\n\nfunction onStorageAdd() {\n  const realStorageArr = JSON.parse(localStorage.getItem(STORAGE_KEY));\n  const dataToSave = storageObj;\n  if (!realStorageArr || realStorageArr.length === 0) {\n    storageArr.push(dataToSave);\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(storageArr));\n  } else {\n    realStorageArr.push(dataToSave);\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(realStorageArr));\n  }\n\n  storageDescription.textContent =\n    'Сongratulations! You have added the book to the shopping list. To delete, press the button \"Remove from the shopping list\".';\n  storageCheck();\n}\n\nfunction onStorageDelete() {\n  storageDescription.textContent = '';\n\n  const idToDelete = storageObj.id;\n  const storageArr = JSON.parse(localStorage.getItem(STORAGE_KEY));\n  const indexToDelete = storageArr.findIndex(obj => obj.id === idToDelete);\n  storageArr.splice(indexToDelete, 1);\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(storageArr));\n  storageCheck();\n}\n","const backToTopButton = document.getElementById(\"back-to-top-button\");\n\nwindow.addEventListener(\"scroll\", () => {\n    if (document.body.scrollTop > 250 || document.documentElement.scrollTop > 250) {\n        backToTopButton.style.display = \"block\";\n    } else {\n        backToTopButton.style.display = \"none\";\n    }\n});\n\nbackToTopButton.addEventListener(\"click\", () => {\n    document.body.scrollTop = 0;\n    document.documentElement.scrollTop = 0;\n});"],"names":["parcelRequire","register","JSON","parse","$2shzp","async","$8665e457e933d24b$export$3bd2368d50e01401","default","get","error","Error","Notiflix","Notify","failure","$26c383e5e9480bbb$var$container","document","querySelector","$26c383e5e9480bbb$var$list","createElement","classList","add","style","listStyleType","prepend","response","data","categories","itemsHtml","sort","a","b","list_name","localeCompare","map","category","join","innerHTML","addEventListener","event1","preventDefault","target","tagName","contains","selectedCategory","getAttribute","currentCategoryTitle","innerText","booksResponse","$XJ68H","getBooksByCategory","$4dz7C","renderBooks","querySelectorAll","forEach","button","event","bookId","currentTarget","bookDetails","getBookById","renderBookDetails","console","$26c383e5e9480bbb$var$renderCategories","$a5fd9b375d27f51a$exports","URL","resolve","import","meta","url","toString","$d0816a64ca74b7ab$exports","$f5e87b61b0a55a01$exports","$f8ae6114568ab04e$exports","$5e880aa95262b744$exports","$0993ea2849aa779a$exports","$8a7e756c566dd1ea$var$modalBackdrop","$8a7e756c566dd1ea$var$bookList","$8a7e756c566dd1ea$var$modals","$8a7e756c566dd1ea$var$idModal","$8a7e756c566dd1ea$var$closeModalBtn","$8a7e756c566dd1ea$var$storageButton","$8a7e756c566dd1ea$var$removeStorageBtn","$8a7e756c566dd1ea$var$storageDescription","$8a7e756c566dd1ea$var$storageArr","$8a7e756c566dd1ea$var$storageObj","$8a7e756c566dd1ea$var$closeModalId","$8a7e756c566dd1ea$var$storageCheck","storageArr1","localStorage","getItem","idToFind","id","length","display","find","obj","key","e","nodeName","remove","fetch","json","book_image","title","author","description","shopAmazon","buy_links","shopAppleBooks","shopBookshop","_id","$8a7e756c566dd1ea$var$fetchBookById","bookImage","html","$parcel$interopDefault","$8a7e756c566dd1ea$var$addMarkup","$8a7e756c566dd1ea$var$addModal","closest","realStorageArr","dataToSave","push","setItem","stringify","textContent","idToDelete","storageArr2","indexToDelete","findIndex","splice","$e1af594d238c4911$var$backToTopButton","getElementById","window","body","scrollTop","documentElement"],"version":3,"file":"index.151d4e3f.js.map"}